CREATE TABLE IF NOT EXISTS MEMBER(
	CID NUMERIC PRIMARY KEY,
	ACCOUNT VARCHAR(20) NOT NULL,
	PASSWORD VARCHAR(20) NOT NULL,
	NAME VARCHAR(20) NOT NULL,
	SEX NUMERIC NOT NULL,
	BIRTHDAY DATE NOT NULL,
	EMAIL VARCHAR(30) NOT NULL,
	CREATE_TIME TIMESTAMP NOT NULL,
	UPDATE_TIME TIMESTAMP
);

CREATE INDEX IF NOT EXISTS IDX_1 ON MEMBER(CID);

-- ID,ACCOUNT,PASSWORD 用流水號
-- 變動項目如下
-- SEX 1 男 2 女
-- NAME 用一個陣列存20-30個中文名，一個陣列存20-30個姓氏，然後隨機組
-- BIRTHDAY 年分 1980 - 2020 月份 1-12 日期 1-31 需與月份配對，2月特別與閏年配對
-- EMAIL 英文26個字母與10個基本數字湊出6-12字元的信箱帳號，信箱別 gmail , yahoo , hotmail 三取一組合

-- 範例男性 ,Gmail,2019生日
-- INSERT INTO MEMBER VALUES(1,'test1','test1','陳貓貓',1,'2019-06-30','asd@gmail.com',CURRENT_DATE,null);



CREATE TABLE IF NOT EXISTS TICKET(
	TICKET_NO NUMERIC NOT NULL,
	CID NUMERIC,
	STORE_NO NUMERIC NOT NULL,
	ITEM_NO NUMERIC NOT NULL,
	QTY NUMERIC NOT NULL,
	ORDER_NO NUMERIC NOT NULL,
	ORIGIN_PRICE NUMERIC NOT NULL,
	TICKET_DATE DATE NOT NULL,
	DISCOUNT NUMERIC DEFAULT 0,
	FINAL_PRICE NUMERIC NOT NULL
);

CREATE INDEX IF NOT EXISTS IDX_1 ON TICKET(TICKET_NO,CID,STORE_NO,ITEM_NO,ORDER_NO,TICKET_DATE);

-- TICKET_NO
-- CID 與 MEMBER CID 隨機取
-- STORE_NO 1-5數字 隨機取
-- ITEM_NO 100-9999 數字 隨機取
-- QTY 1-20數字 隨機取
-- ORDER_NO 從1開始數
-- ORIGIN_PRICE 100 - 99999 隨機取
-- TICKET_DATE 與生日一樣取法
-- DISCOUNT DEFAULT 0 , 0~1 小數後兩位 0.01-0.99
-- FINAL_PRICE = ORIGIN_PRICE * DISCOUNT

-- 固定 CID , STORE_NO , 流水號 ORDER_NO 產出1-10筆 銷售資料算一單
-- 下一單 換 TICKET_NO,CID,STORE_NO,TICKET_DATE
-- 範例
--INSERT INTO TICKET VALUES(101,1,3,101,2,1,2000,'2019-06-30',0.5,1000);
--INSERT INTO TICKET VALUES(101,1,3,2003,2,2,100,'2019-06-30',0.9,90);
--INSERT INTO TICKET VALUES(101,1,3,199,2,3,200,'2019-06-30',0.9,180);
--INSERT INTO TICKET VALUES(101,1,3,1051,2,4,500,'2019-06-30',0,500);



CREATE TABLE IF NOT EXISTS PRODUCT(
	ITEM_NO NUMERIC PRIMARY KEY,
	ORIGIN_PRICE NUMERIC NOT NULL,
	ITEM_NAME VARCHAR(20) NOT NULL,
	SPEC VARCHAR(200) DEFAULT NULL
);

CREATE INDEX IF NOT EXISTS IDX_1 ON PRODUCT(ITEM_NO);

-- ITEM_NO 100-9999 數字 隨機取
-- ORIGIN_PRICE 100 - 99999 隨機取
-- 不重複30個物品名稱
-- 規格先 NULL 
--INSERT INTO PRODUCT VALUES(101,2000,'草莓派',NULL);
--INSERT INTO PRODUCT VALUES(2003,100,'雜糧麵包',NULL);

